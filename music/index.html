<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>Music</title>
  <link type="text/css" rel="stylesheet" href="../utilities.css">
  <link type="text/css" rel="stylesheet" href="music.css">
</head>

<body>
  <div class="container">
    <div class="player">
      <audio class="margin-bottom" controls></audio>
      <div class="current-song text-center"></div>
    </div>
    <table class="song-list" cellspacing="0"></table>
  </div>

  <script type="text/javascript" src="js/song_list_view.js"></script>
  <script type="text/javascript">
    window.app = {
      player: document.getElementsByTagName('audio')[0],
      songListView: new SongListView(),

      loadSongs: function () {
        fetch('https://jtunes.herokuapp.com/songs').then(function (response) {
          return response.json();
        }).then(function (songs) {
          app.songs = songs;
          app.songListView.render();
        });
      }
    };

    app.songListView.addPlayButtonListener();
    app.loadSongs();
  </script>
</body>

</html>
